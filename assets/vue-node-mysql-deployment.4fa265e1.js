import{a as e,j as l,F as c}from"./index.5e7692fa.js";const d="Vue  + Node.js + MySQL \u9879\u76EE\u90E8\u7F72\u5230 ECS \u670D\u52A1\u5668",h="2022-02-27T18:11:00.000+00:00",t="zh",o="10min",a="/blog/vue-node-mysql-deployment";function r(i){const n=Object.assign({nav:"nav",ol:"ol",li:"li",a:"a",h1:"h1",h2:"h2",ul:"ul",h3:"h3",strong:"strong",code:"code",pre:"pre",span:"span",p:"p"},i.components);return l(c,{children:[e(n.nav,{className:"toc",children:e(n.ol,{className:"toc-level toc-level-1",children:l(n.li,{className:"toc-item toc-item-h1",children:[e(n.a,{className:"toc-link toc-link-h1",href:"#vue---nodejs--mysql-\u9879\u76EE\u90E8\u7F72\u5230-ecs-\u670D\u52A1\u5668",children:"Vue  + Node.js + MySQL \u9879\u76EE\u90E8\u7F72\u5230 ECS \u670D\u52A1\u5668"}),l(n.ol,{className:"toc-level toc-level-2",children:[e(n.li,{className:"toc-item toc-item-h2",children:e(n.a,{className:"toc-link toc-link-h2",href:"#\u53C2\u8003\u8D44\u6599",children:"\u53C2\u8003\u8D44\u6599\uFF1A"})}),l(n.li,{className:"toc-item toc-item-h2",children:[e(n.a,{className:"toc-link toc-link-h2",href:"#\u6B65\u9AA4",children:"\u6B65\u9AA4\uFF1A"}),l(n.ol,{className:"toc-level toc-level-3",children:[e(n.li,{className:"toc-item toc-item-h3",children:e(n.a,{className:"toc-link toc-link-h3",href:"#\u4E00\u670D\u52A1\u5668\u914D\u7F6E\u4E0E\u5B9D\u5854\u9762\u677F",children:"\u4E00\u3001\u670D\u52A1\u5668\u914D\u7F6E\u4E0E\u5B9D\u5854\u9762\u677F"})}),e(n.li,{className:"toc-item toc-item-h3",children:e(n.a,{className:"toc-link toc-link-h3",href:"#\u4E8C\u524D\u7AEF\u4EE3\u7801\u5904\u7406",children:"\u4E8C\u3001\u524D\u7AEF\u4EE3\u7801\u5904\u7406"})}),e(n.li,{className:"toc-item toc-item-h3",children:e(n.a,{className:"toc-link toc-link-h3",href:"#\u4E09\u540E\u7AEF\u4EE3\u7801\u5904\u7406",children:"\u4E09\u3001\u540E\u7AEF\u4EE3\u7801\u5904\u7406"})}),e(n.li,{className:"toc-item toc-item-h3",children:e(n.a,{className:"toc-link toc-link-h3",href:"#\u56DB\u6570\u636E\u5E93\u914D\u7F6E",children:"\u56DB\u3001\u6570\u636E\u5E93\u914D\u7F6E"})}),e(n.li,{className:"toc-item toc-item-h3",children:e(n.a,{className:"toc-link toc-link-h3",href:"#\u4E94\u542F\u7528-node-\u670D\u52A1",children:"\u4E94\u3001\u542F\u7528 Node \u670D\u52A1"})}),e(n.li,{className:"toc-item toc-item-h3",children:e(n.a,{className:"toc-link toc-link-h3",href:"#\u516Dnginx-\u914D\u7F6E\u4E0E\u542F\u52A8",children:"\u516D\u3001Nginx \u914D\u7F6E\u4E0E\u542F\u52A8"})})]})]}),l(n.li,{className:"toc-item toc-item-h2",children:[e(n.a,{className:"toc-link toc-link-h2",href:"#\u95EE\u9898\u4E0E\u89E3\u7B54",children:"\u95EE\u9898\u4E0E\u89E3\u7B54"}),l(n.ol,{className:"toc-level toc-level-3",children:[e(n.li,{className:"toc-item toc-item-h3",children:e(n.a,{className:"toc-link toc-link-h3",href:"#\u5355\u72EC\u5C06\u540E\u7AEF\u90E8\u7F72\u5230-ecs-\u540E\u7684\u8C03\u8BD5\u95EE\u9898",children:"\u5355\u72EC\u5C06\u540E\u7AEF\u90E8\u7F72\u5230 ECS \u540E\u7684\u8C03\u8BD5\u95EE\u9898"})}),e(n.li,{className:"toc-item toc-item-h3",children:e(n.a,{className:"toc-link toc-link-h3",href:"#\u540E\u7AEF\u6570\u636E\u5E93\u540D\u79F0\u5927\u5C0F\u5199\u95EE\u9898",children:"\u540E\u7AEF\u6570\u636E\u5E93\u540D\u79F0\u5927\u5C0F\u5199\u95EE\u9898"})})]})]})]})]})})}),`
`,e(n.h1,{id:"vue---nodejs--mysql-\u9879\u76EE\u90E8\u7F72\u5230-ecs-\u670D\u52A1\u5668",children:"Vue  + Node.js + MySQL \u9879\u76EE\u90E8\u7F72\u5230 ECS \u670D\u52A1\u5668"}),`
`,e(n.h2,{id:"\u53C2\u8003\u8D44\u6599",children:"\u53C2\u8003\u8D44\u6599\uFF1A"}),`
`,l(n.ul,{children:[`
`,e(n.li,{children:e(n.a,{href:"https://blog.csdn.net/weixin_43786756/article/details/112982951?utm_medium=distribute.pc_feed_404.none-task-blog-2~default~BlogCommendFromBaidu~Rate-1.control404&depth_1-utm_source=distribute.pc_feed_404.none-task-blog-2~default~BlogCommendFromBaidu~Rate-1.control40",children:"\u3010\u8D85\u8BE6\u7EC6\u5C0F\u767D\u6559\u5B66\u3011Vue+nodejs\u7535\u5546\u9879\u76EE\u90E8\u7F72\u6307\u5357"})}),`
`,e(n.li,{children:e(n.a,{href:"https://segmentfault.com/a/1190000022921908",children:"Vue + node + mongoDB \u9879\u76EE\u90E8\u7F72\u81F3\u963F\u91CC\u4E91\u670D\u52A1\u5668"})}),`
`,e(n.li,{children:e(n.a,{href:"https://www.jianshu.com/p/57742768e947",children:"pm2\u4EE3\u66FFforever\u90E8\u7F72nodejs\u9879\u76EE"})}),`
`]}),`
`,e(n.h2,{id:"\u6B65\u9AA4",children:"\u6B65\u9AA4\uFF1A"}),`
`,e(n.h3,{id:"\u4E00\u670D\u52A1\u5668\u914D\u7F6E\u4E0E\u5B9D\u5854\u9762\u677F",children:"\u4E00\u3001\u670D\u52A1\u5668\u914D\u7F6E\u4E0E\u5B9D\u5854\u9762\u677F"}),`
`,l(n.ol,{children:[`
`,l(n.li,{children:["\u914D\u7F6E\u5E76\u8D2D\u4E70 ECS \u670D\u52A1\u5668\uFF08\u6CE8\u610F\u8BB0\u5FC6\u81EA\u5B9A\u4E49 ",e(n.strong,{children:"SSH \u8FDE\u63A5\u5BC6\u7801"}),"\uFF0C\u7528\u6237\u540D\u56FA\u5B9A\u4E3A 'root'\uFF09\uFF0C\u751F\u6210\u5B9E\u4F8B"]}),`
`,l(n.li,{children:["\u4F7F\u7528\u4E0A\u9762\u8BBE\u7F6E\u7684\u5BC6\u7801\u901A\u8FC7 \u201C",e(n.strong,{children:"\u8FDC\u7A0B\u8FDE\u63A5 \u2014\u2014 Workbench\u201D"}),"\uFF0C\u8FDB\u5165 shell \u547D\u4EE4\u884C"]}),`
`,l(n.li,{children:["\u6839\u636E ECS \u64CD\u4F5C\u7CFB\u7EDF\u7528\u5BF9\u5E94\u7684",e(n.strong,{children:"\u547D\u4EE4"}),"\u5B89\u88C5 \u201C\u5B9D\u5854 Linux \u9762\u677F\u201D\uFF0C\u590D\u5236 \u201C",e(n.strong,{children:"\u5916\u7F51\u9762\u677F\u5730\u5740"}),"\u201D\uFF0C\u8FDB\u5165\u9762\u677F\uFF08",e(n.strong,{children:"\u6CE8\u610F"}),"\uFF1A\u9700\u5148\u914D\u7F6E ECS \u5B9E\u4F8B",e(n.strong,{children:"\u5B89\u5168\u7EC4"}),"\uFF0C\u653E\u884C ",e(n.strong,{children:"8888 \u7AEF\u53E3"}),"\uFF09",`
`,l(n.ol,{children:[`
`,l(n.li,{children:[e(n.strong,{children:"\u914D\u7F6E\u5B89\u5168\u7EC4\u65B9\u6CD5"}),"\uFF1A\u8FDB\u5165 ECS \u5B89\u5168\u7EC4\u89C4\u5219\u914D\u7F6E\u9875\u9762\uFF0C\u9009\u62E9 \u201C",e(n.strong,{children:"\u5165\u65B9\u5411"}),"\u201D \u624B\u52A8\u6DFB\u52A0\u5982\u4E0B\u89C4\u5219\uFF1A"]}),`
`,l(n.li,{children:[`
`,e("img",{src:"/images/vue-node-mysql-deployment/1.png",alt:"ecs-security-rules"}),`
`]}),`
`,l(n.li,{children:["\u4E3A\u4E86\u540E\u7EED\u90E8\u7F72\u65B9\u4FBF\uFF0C\u901A\u8FC7",e(n.strong,{children:"\u5FEB\u901F\u6DFB\u52A0"}),"\u4E3A\u4EE5\u4E0B\u5E38\u7528\u7AEF\u53E3\u6DFB\u52A0\u89C4\u5219\uFF1A"]}),`
`,l(n.li,{children:[`
`,e("img",{src:"/images/vue-node-mysql-deployment/2.png",alt:"quick-add"}),`
`]}),`
`,l(n.li,{children:["\u6B64\u5916\uFF0C\u5C06",e(n.strong,{children:"\u524D\u7AEF\u4E0E\u540E\u7AEF\u5E94\u7528"}),"\u4F7F\u7528\u7684\u7AEF\u53E3\u53F7\u5206\u522B\u624B\u52A8\u6DFB\u52A0\u5230\u89C4\u5219\u4E2D"]}),`
`]}),`
`]}),`
`,l(n.li,{children:["\u5728\u5B9D\u5854\u9762\u677F\u7684",e(n.strong,{children:"\u8F6F\u4EF6\u5546\u5E97"}),"\u4E2D\uFF0C\u9009\u62E9",e(n.strong,{children:"\u6781\u901F\u5B89\u88C5"})," Nginx@\u3001MySQL@5.5\u3001TomCat@7"]}),`
`,l(n.li,{children:["\u8FDC\u7A0B\u8FDE\u63A5\u4E2D\u4F7F\u7528",e(n.code,{children:"/etc/init.d/bt default"}),"\u67E5\u770B\u5B9D\u5854\u9762\u677F\u7528\u6237\u540D\u3001\u5BC6\u7801"]}),`
`]}),`
`,e(n.h3,{id:"\u4E8C\u524D\u7AEF\u4EE3\u7801\u5904\u7406",children:"\u4E8C\u3001\u524D\u7AEF\u4EE3\u7801\u5904\u7406"}),`
`,l(n.ol,{children:[`
`,l(n.li,{children:["\u8C03\u7528",e(n.strong,{children:"\u63A5\u53E3"}),"\u4E2D\u7684\u5730\u5740\u4E0E\u7AEF\u53E3\u53F7\u66FF\u6362\u6210 ECS \u5B9E\u4F8B\u7684",e(n.strong,{children:"\u516C\u7F51\u5730\u5740 + \u540E\u7AEF\u5E94\u7528\u7AEF\u53E3\u53F7"}),"\uFF08\u540E\u9762\u8FD8\u9700\u8981\u5728 ",e(n.strong,{children:"Nginx \u4E2D\u914D\u7F6E\u540E\u7AEF\u4EE3\u7406"}),"\uFF09\u3002"]}),`
`,l(n.li,{children:["\u5220\u9664\u89E3\u51B3\u5F00\u53D1\u65F6\u8C03\u7528\u63A5\u53E3\u7684\u8DE8\u57DF\u95EE\u9898\u7684 ",e(n.strong,{children:"vue.config.js"})," \u6587\u4EF6\u3002"]}),`
`,l(n.li,{children:["\u8C03\u7528 ",e(n.strong,{children:"npm run build"})," \u6253\u5305\u524D\u7AEF\u6587\u4EF6\uFF0C\u6CE8\u610F\u751F\u6210\u7684 dist/index.html \u4E2D\u8D44\u6E90\u7684\u8DEF\u5F84\u8981\u6539\u4E3A",e(n.strong,{children:"\u76F8\u5BF9\u8DEF\u5F84"}),"\u3002"]}),`
`,l(n.li,{children:["\u63D0\u53D6\u51FA ",e(n.strong,{children:"dist"})," \u76EE\u5F55"]}),`
`]}),`
`,e(n.h3,{id:"\u4E09\u540E\u7AEF\u4EE3\u7801\u5904\u7406",children:"\u4E09\u3001\u540E\u7AEF\u4EE3\u7801\u5904\u7406"}),`
`,l(n.ol,{children:[`
`,l(n.li,{children:["\u5C06",e(n.strong,{children:"\u8FDE\u63A5\u5BF9\u8C61"}),"\u4E2D\u7684 ",e(n.strong,{children:"localhost"})," \u6539\u4E3A ",e(n.strong,{children:"'127.0.0.1'\uFF08\u672C\u5730 IP\uFF09"}),"\u3002"]}),`
`,l(n.li,{children:["\u8BB0\u4F4F\u521B\u5EFA\u6570\u636E\u5E93\u8FDE\u63A5\u7684",e(n.strong,{children:"\u7528\u6237\u540D"}),"\u548C",e(n.strong,{children:"\u5BC6\u7801"}),"\u3002"]}),`
`,l(n.li,{children:["\u5220\u9664\u4F9D\u8D56\u6587\u4EF6 ",e(n.strong,{children:"node_module"}),"\uFF0C\u4EE5\u51CF\u5C0F\u6587\u4EF6\u5939\u7684\u4F53\u79EF\u3002"]}),`
`,l(n.li,{children:["\u5C06\u524D\u3001\u540E\u7AEF\u4EE3\u7801\u6587\u4EF6\u5939\u590D\u5236\u5230 Tomcat \u5982\u4E0B\u6587\u4EF6\u5939\uFF08",e(n.strong,{children:"\u4E0D\u4E00\u5B9A\u662F\u8BE5\u4F4D\u7F6E\uFF0C\u6839\u636E\u9700\u8981\u800C\u5B9A"}),"\uFF09\u4E2D\uFF08dist & back-end\uFF09\uFF1A"]}),`
`]}),`
`,e("img",{src:"/images/vue-node-mysql-deployment/3.png",alt:"backend-dir",style:{zoom:.8}}),`
`,e(n.h3,{id:"\u56DB\u6570\u636E\u5E93\u914D\u7F6E",children:"\u56DB\u3001\u6570\u636E\u5E93\u914D\u7F6E"}),`
`,l(n.ol,{children:[`
`,l(n.li,{children:["\u5728\u5B9D\u5854\u9762\u677F\uFF0C\u8FDB\u5165\u201C",e(n.strong,{children:"\u6570\u636E\u5E93"}),"\u201D\uFF0C\u4FEE\u6539 ",e(n.strong,{children:"root \u5BC6\u7801"}),"\u4E0E\u540E\u7AEF\u4EE3\u7801\u4FDD\u6301\u4E00\u81F4\u3002"]}),`
`,l(n.li,{children:["\u5728\u672C\u5730\u7535\u8111\u4F7F\u7528 cmd \u547D\u4EE4\u884C\u7A97\u53E3\uFF0C\u8F93\u5165 ",e(n.strong,{children:"ssh root@\u670D\u52A1\u5668\u516C\u7F51 IP"}),"\uFF0C\u5E76\u8F93\u5165 ssh \u5BC6\u7801\u8FDE\u63A5 ECS\u3002"]}),`
`,l(n.li,{children:["\u8F93\u5165 ",e(n.strong,{children:"mysql -u root -p;"})," \uFF0C\u4F7F\u7528\u5728\u5B9D\u5854\u9762\u677F\u8BBE\u7F6E\u7684\u5BC6\u7801\u767B\u5F55 MySQL \u6570\u636E\u5E93\u3002"]}),`
`,l(n.li,{children:["\u8F93\u5165 ",e(n.strong,{children:"create database `db_name` default character set utf8 collate  utf8_general_ci;"})," \uFF0C\u521B\u5EFA\u6570\u636E\u5E93\u3002"]}),`
`,l(n.li,{children:["\u4ECE\u672C\u5730\u6570\u636E\u5E93\u4E2D\u5BFC\u51FA ",e(n.strong,{children:".sql"})," \u6587\u4EF6\uFF0C",e(n.strong,{children:"\u6CE8\u610F"}),"\uFF1A\u5982\u679C\u672C\u5730\u6570\u636E\u5E93\u4E0E ECS \u6570\u636E\u5E93",e(n.strong,{children:"\u5B57\u7B26\u7F16\u7801\u683C\u5F0F\u4E0D\u540C"}),"\u65F6\uFF0C\u9700\u8981",e(n.strong,{children:"\u4FEE\u6539"}),"\u5BFC\u51FA\u7684 sql \u6587\u4EF6\u3002"]}),`
`,l(n.li,{children:["\u4F7F\u7528 ",e(n.strong,{children:"source /path/db_name.sql;"}),"\uFF0C\u5BFC\u5165\u6570\u636E\u5E93\uFF0C\u7528 ",e(n.strong,{children:"show tables;"})," \u786E\u8BA4\u8868\u662F\u5426\u5BFC\u5165\u6210\u529F\u3002"]}),`
`,l(n.li,{children:["\u56DE\u5230\u5B9D\u5854\u9762\u677F\u7684\u6570\u636E\u5E93\u6A21\u5757\uFF0C\u70B9\u51FB\u201C",e(n.strong,{children:"\u4ECE\u670D\u52A1\u5668\u83B7\u53D6"}),"\u201D\uFF0C\u53EF\u4EE5\u83B7\u53D6\u4E0A\u9762\u521B\u5EFA\u7684\u6570\u636E\u5E93\u3002"]}),`
`]}),`
`,e(n.h3,{id:"\u4E94\u542F\u7528-node-\u670D\u52A1",children:"\u4E94\u3001\u542F\u7528 Node \u670D\u52A1"}),`
`,l(n.ol,{children:[`
`,l(n.li,{children:["\u4F7F\u7528 ",e(n.strong,{children:"node --version"})," \u6216 ",e(n.strong,{children:"node -v"})," \u547D\u4EE4\u67E5\u770B ECS \u662F\u5426\u5B89\u88C5\u4E86 Node.js \u3002"]}),`
`,l(n.li,{children:["\u82E5\u672A\u5B89\u88C5\uFF0C\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u5B89\u88C5 Node \uFF08",e(n.strong,{children:"\u6CE8\u610F\uFF1ACentOS \u5C5E\u4E8E Linux \u7CFB\u7EDF"}),"\uFF09\uFF1A"]}),`
`,l(n.li,{children:[`
`,e(n.pre,{children:l(n.code,{className:"hljs language-shell",children:[e(n.span,{className:"hljs-meta prompt_",children:"$"}),l(n.span,{className:"bash",children:[e(n.span,{className:"hljs-built_in",children:"cd"})," /root"]}),`
`,e(n.span,{className:"hljs-meta prompt_",children:"$"}),e(n.span,{className:"bash",children:"wget https://nodejs.org/download/release/v14.17.0/node-v14.17.0-linux-x64.tar.gz"}),`
`,e(n.span,{className:"hljs-meta prompt_",children:"$"}),e(n.span,{className:"bash",children:"sudo tar --strip-components 1 -xzvf node-v14.17.0-linux-x64.tar.gz -C /usr/local"}),`
`]})}),`
`]}),`
`,l(n.li,{children:["\u5207\u6362\u5230\u540E\u7AEF\u6587\u4EF6\u5939\uFF0C\u6267\u884C ",e(n.strong,{children:"npm install"})," \u5B89\u88C5\u4F9D\u8D56\uFF08express\uFF0Cmysql \u7B49\uFF09\u3002"]}),`
`,l(n.li,{children:["\u5B89\u88C5\u5B8C\u6BD5\u540E\uFF0C\u4F7F\u7528 ",e(n.strong,{children:"node main.js"})," \u6D4B\u8BD5\u80FD\u5426\u6210\u529F\u8FD0\u884C\u540E\u7AEF\u3002"]}),`
`,l(n.li,{children:["\u8FD0\u884C\u6210\u529F\u540E\uFF0C\u5B89\u88C5 ",e(n.strong,{children:"pm2"})," \u4F7F cmd \u4E0D\u9700\u8981\u4E00\u76F4\u8FD0\u884C\u4EE5",e(n.strong,{children:"\u7EF4\u6301\u540E\u7AEF\u670D\u52A1"}),"\uFF1A"]}),`
`,l(n.li,{children:[`
`,e(n.pre,{children:l(n.code,{className:"hljs language-shell",children:[e(n.span,{className:"hljs-meta prompt_",children:"$"}),l(n.span,{className:"bash",children:[e(n.span,{className:"hljs-built_in",children:"cd"})," /usr/local"]}),`
`,e(n.span,{className:"hljs-meta prompt_",children:"$"}),e(n.span,{className:"bash",children:"npm install -g pm2"}),`
`]})}),`
`]}),`
`,l(n.li,{children:["\u8FDB\u5165\u540E\u7AEF\u76EE\u5F55\uFF0C\u4F7F\u7528 pm2 \u542F\u52A8\u540E\u7AEF\u5E94\u7528\uFF0C",e(n.strong,{children:"--name"})," \u53EF\u4E3A\u8FDB\u7A0B\u8BBE\u7F6E\u540D\u79F0\uFF1A"]}),`
`,l(n.li,{children:[`
`,e(n.pre,{children:l(n.code,{className:"hljs language-shell",children:[e(n.span,{className:"hljs-meta prompt_",children:"$"}),l(n.span,{className:"bash",children:["pm2 start main.js --name=",e(n.span,{className:"hljs-string",children:'"name"'})]}),`
`]})}),`
`]}),`
`,l(n.li,{children:["\u542F\u52A8\u6210\u529F\u540E\uFF0C\u770B\u5230\u5982\u4E0B\u7ED3\u679C\uFF1A",e("img",{src:"/images/vue-node-mysql-deployment/4.png",alt:"pm2 start"})]}),`
`,l(n.li,{children:[e(n.strong,{children:"\u9644\u5F55\u2014\u2014 pm2 \u5E38\u7528\u547D\u4EE4"}),"\uFF1A",`
`,l(n.ol,{children:[`
`,l(n.li,{children:[e(n.strong,{children:"\u67E5\u770B\u6240\u6709\u8FDB\u7A0B"}),"\uFF1A",e(n.code,{children:"$pm2 list"})]}),`
`,l(n.li,{children:[e(n.strong,{children:"\u67E5\u770B\u67D0\u8FDB\u7A0B\u8BE6\u7EC6\u4FE1\u606F"}),"\uFF1A",e(n.code,{children:"$pm2 info [proc_id]"})]}),`
`,l(n.li,{children:[e(n.strong,{children:"\u6682\u505C\u67D0\u8FDB\u7A0B"}),"\uFF1A",e(n.code,{children:"$pm2 stop [proc_id]"})]}),`
`,l(n.li,{children:[e(n.strong,{children:"\u91CD\u542F\u67D0\u8FDB\u7A0B"}),"\uFF1A",e(n.code,{children:"$pm2 restart [proc_id]"})]}),`
`,l(n.li,{children:[e(n.strong,{children:"\u91CD\u542F\u6240\u6709\u8FDB\u7A0B"}),"\uFF1A",e(n.code,{children:"$pm2 restart all"})]}),`
`,l(n.li,{children:[e(n.strong,{children:"\u5220\u9664\u67D0\u8FDB\u7A0B"}),"\uFF1A",e(n.code,{children:"$pm2 delete [proc_id]"})]}),`
`,l(n.li,{children:[e(n.strong,{children:"\u5FEB\u7167"}),"\uFF1A",e(n.code,{children:"$pm2 save"})]}),`
`,l(n.li,{children:[e(n.strong,{children:"\u91CD\u542F\u5FEB\u7167"}),"\uFF1A",e(n.code,{children:"$pm2 resurrect"})]}),`
`]}),`
`]}),`
`]}),`
`,e(n.h3,{id:"\u516Dnginx-\u914D\u7F6E\u4E0E\u542F\u52A8",children:"\u516D\u3001Nginx \u914D\u7F6E\u4E0E\u542F\u52A8"}),`
`,l(n.ol,{children:[`
`,l(n.li,{children:[`
`,l(n.p,{children:["\u8FDB\u5165\u5B9D\u5854\u9762\u677F\u2014\u2014\u8F6F\u4EF6\u5546\u5E97\u2014\u2014 Nginx \u8BBE\u7F6E\u2014\u2014\u914D\u7F6E\u4FEE\u6539\uFF0C\u5728 ",e(n.strong,{children:"http"})," \u5757\uFF08",e(n.strong,{children:"\u6CE8\u610F"}),"\uFF1A\u4E0D\u662F ",e(n.strong,{children:"server"})," \u5757\uFF09\u5185\u589E\u52A0\u4EE5\u4E0B",e(n.strong,{children:"\u53CD\u5411\u4EE3\u7406"}),"\u4EE3\u7801\uFF1A"]}),`
`]}),`
`,l(n.li,{children:[`
`,e(n.pre,{children:l(n.code,{className:"hljs language-js",children:[` server{
     `,e(n.span,{className:"hljs-comment",children:"// \u524D\u7AEF\u7F51\u9875\u7AEF\u53E3\u53F7"}),`
     listen <port>;
     `,e(n.span,{className:"hljs-comment",children:"// ECS \u670D\u52A1\u5668\u5916\u7F51IP\u5730\u5740"}),`
     server_name localhost <host>;
     location / {
     `,e(n.span,{className:"hljs-comment",children:"// \u524D\u7AEF\u76EE\u5F55"}),`
     root <dir>;
     try_files $uri $uri/ /index.`,e(n.span,{className:"hljs-property",children:"html"}),`;
     }
 }
`]})}),`
`]}),`
`,l(n.li,{children:[`
`,l(n.p,{children:["\u4FDD\u5B58\u4FEE\u6539\uFF0C\u56DE\u5230\u670D\u52A1\uFF0C\u5148\u70B9\u51FB",e(n.strong,{children:"\u91CD\u8F7D\u914D\u7F6E"}),"\uFF0C\u518D\u70B9\u51FB",e(n.strong,{children:"\u91CD\u542F"}),"\uFF1A"]}),`
`,l(n.ol,{children:[`
`,l(n.li,{children:["\u5982\u679C\u6B64\u65F6\u8FD0\u884C\u5931\u8D25\uFF0C\u51FA\u73B0\uFF1A",e(n.code,{children:"bind() to 0.0.0.0:80 failed (98:Adress already in use)"}),"\u9519\u8BEF\uFF0C\u662F\u7531\u4E8E",e(n.strong,{children:"\u7AEF\u53E3\u53F7\u88AB\u5360\u7528"}),"\u3002"]}),`
`]}),`
`]}),`
`,l(n.li,{children:[`
`,l(n.p,{children:["\u5728\u6D4F\u89C8\u5668\u4E2D\u8BBF\u95EE \u201C",e(n.a,{href:"http://ip:port%22%EF%BC%8C%E5%8D%B3%E5%8F%AF%E8%BF%9B%E5%85%A5%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2",children:'http://ip:port"\uFF0C\u5373\u53EF\u8FDB\u5165\u524D\u7AEF\u9875\u9762'})]}),`
`,l(n.ol,{children:[`
`,l(n.li,{children:["\u4E3B\u9875\u53EF\u4EE5\u6B63\u5E38\u8BBF\u95EE\uFF0C\u4F46",e(n.strong,{children:"\u8C03\u7528\u540E\u7AEF\u63A5\u53E3"}),"\u65F6\uFF0C\u63D0\u793A\u9519\u8BEF ",e(n.strong,{children:"We're sorry but XX doesn't work properly without JavaScript enabled"}),"\uFF0C\u539F\u56E0\u662F ",e(n.strong,{children:"Nginx \u914D\u7F6E\u5F02\u5E38\uFF0C\u6CA1\u6709\u6B63\u786E\u8F6C\u53D1\u540E\u7AEF\u63A5\u53E3\u5730\u5740"}),"\u3002"]}),`
`,l(n.li,{children:["\u9700\u8981\u5728 Nginx \u4E2D\u914D\u7F6E",e(n.strong,{children:"\u8F6C\u53D1\u8BBF\u95EE\u540E\u7AEF\u7684\u5177\u4F53\u5730\u5740"}),"\uFF1A"]}),`
`,l(n.li,{children:[`
`,e(n.pre,{children:l(n.code,{className:"hljs language-js",children:[` server{
     listen <port>; # \u524D\u7AEF\u9875\u9762\u7AEF\u53E3
     server_name localhost <host>; # \u670D\u52A1\u5668 `,e(n.span,{className:"hljs-variable constant_",children:"IP"}),`
     error_page `,e(n.span,{className:"hljs-number",children:"404"})," /index.",e(n.span,{className:"hljs-property",children:"html"}),";	# \u9632\u6B62\u51FA\u73B0 ",e(n.span,{className:"hljs-number",children:"404"})," ",e(n.span,{className:"hljs-title class_",children:"Not"})," ",e(n.span,{className:"hljs-title class_",children:"Found"}),` \u9875\u9762 
 
     location / {
         root /www/server/tomcat/webapps/dist; # `,e(n.span,{className:"hljs-title class_",children:"Vue"}),` \u9879\u76EE\u8DEF\u5F84
         try_files $uri $uri/ /index.`,e(n.span,{className:"hljs-property",children:"html"}),`;
     }
     ## \u914D\u7F6E\u540E\u7AEF\u53CD\u5411\u4EE3\u7406
     location ~ `,e(n.span,{className:"hljs-regexp",children:"/api/"}),` {
         proxy_pass <back-end-origin>; # \u540E\u7AEF\u8FD0\u884C\u5730\u5740
     }
 }
`]})}),`
`]}),`
`,e(n.li,{children:"\u4FDD\u5B58\uFF0C\u91CD\u8F7D\u914D\u7F6E\u5E76\u91CD\u542F Nginx \u670D\u52A1\u5373\u53EF\u3002"}),`
`]}),`
`]}),`
`,l(n.li,{children:[`
`,l(n.p,{children:[e(n.strong,{children:"\u9644\u6CE8"}),"\uFF1A"]}),`
`,l(n.ol,{children:[`
`,l(n.li,{children:["\u672C\u90E8\u7F72\u65B9\u6CD5",e(n.strong,{children:"\u5E76\u672A\u7528\u5230 Tomcat \u670D\u52A1\u5668"}),"\uFF0C\u53EA\u662F\u5C06\u524D\u540E\u7AEF\u4EE3\u7801\u653E\u5728 tomcat \u4E0B\u5C5E\u7684\u76EE\u5F55\uFF08\u5176\u4ED6\u76EE\u5F55\u4E5F\u53EF\uFF09\u4E2D\uFF0C\u6240\u4EE5",e(n.strong,{children:"\u4E0D\u9700\u8981\u5B89\u88C5 Tomcat"}),"\u3002"]}),`
`,l(n.li,{children:[e(n.strong,{children:"\u5F00\u53D1\u73AF\u5883\u4E0B"}),"\uFF0C\u4E3A\u4E86\u89E3\u51B3\u8C03\u8BD5\u65F6\u7684",e(n.strong,{children:"\u8DE8\u57DF\u95EE\u9898"}),"\uFF0C\u800C\u4E3A\u524D\u7AEF\u9879\u76EE\u914D\u7F6E\u7684 ",e(n.strong,{children:"vue.config.js"})," \u6587\u4EF6\u5728",e(n.strong,{children:"\u53D1\u5E03/\u90E8\u7F72"}),"\u65F6\u4E0D\u518D\u9700\u8981\uFF0C",e(n.strong,{children:"\u4E0D\u8981\u6253\u5305\u8FDB dist \u76EE\u5F55"}),"\u3002"]}),`
`]}),`
`]}),`
`]}),`
`,e(n.h2,{id:"\u95EE\u9898\u4E0E\u89E3\u7B54",children:"\u95EE\u9898\u4E0E\u89E3\u7B54"}),`
`,e(n.h3,{id:"\u5355\u72EC\u5C06\u540E\u7AEF\u90E8\u7F72\u5230-ecs-\u540E\u7684\u8C03\u8BD5\u95EE\u9898",children:"\u5355\u72EC\u5C06\u540E\u7AEF\u90E8\u7F72\u5230 ECS \u540E\u7684\u8C03\u8BD5\u95EE\u9898"}),`
`,l(n.ul,{children:[`
`,l(n.li,{children:["\u7531\u4E8E\u4F7F\u7528 pm2 \u8FDB\u884C\u540E\u7AEF\u6258\u7BA1\u540E\uFF0C",e(n.strong,{children:"\u65E0\u6CD5\u770B\u5230 node.js \u5BF9\u8BF7\u6C42\u7684\u8F93\u51FA\u4FE1\u606F"}),"\uFF0C\u6240\u4EE5\u5F53\u9700\u8981\u5BF9\u540E\u7AEF\u8FDB\u884C",l(n.strong,{children:["\u8C03\u8BD5\uFF08\u5982\u5408\u5E76\u524D\u540E\u7AEF\uFF09",e(n.strong,{children:"\u65F6\uFF0C\u6700\u597D"}),"\u6682\u505C pm2 \u8FD0\u884C"]}),"\uFF0C\u6539\u4E3A",e(n.strong,{children:"\u4F7F\u7528 node \u547D\u4EE4\u8FD0\u884C\u540E\u7AEF"}),"\u3002"]}),`
`]}),`
`,e(n.h3,{id:"\u540E\u7AEF\u6570\u636E\u5E93\u540D\u79F0\u5927\u5C0F\u5199\u95EE\u9898",children:"\u540E\u7AEF\u6570\u636E\u5E93\u540D\u79F0\u5927\u5C0F\u5199\u95EE\u9898"}),`
`,l(n.ul,{children:[`
`,l(n.li,{children:["\u5728",e(n.strong,{children:"\u672C\u5730\u8C03\u8BD5\u540E\u7AEF"}),"\u65F6\uFF0C",e(n.strong,{children:"connection.query() \u65B9\u6CD5"}),"\u4E2D\u7684 ",e(n.strong,{children:"SQL \u8BED\u53E5"}),"\u5BF9\u5927\u5C0F\u5199\u4E0D\u654F\u611F\uFF0C\u4F46\u90E8\u7F72\u5230\u670D\u52A1\u5668\u4E0A\u540E\uFF0C\u540E\u7AEF\u5BF9",e(n.strong,{children:"\u5927\u5C0F\u5199\u654F\u611F"}),"\uFF0C\u9700\u8981\u6CE8\u610F\u4E24\u8005\u4E00\u81F4\u3002"]}),`
`]})]})}function m(i={}){const{wrapper:n}=i.components||{};return n?e(n,Object.assign({},i,{children:e(r,i)})):r(i)}export{h as date,m as default,o as duration,t as lang,a as path,d as title};
